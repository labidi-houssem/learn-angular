<div class="container mt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
          <h2 class="mb-0">Ajouter une suggestion</h2>
        </div>
        <div class="card-body">
          <form [formGroup]="suggestionForm" (ngSubmit)="onSubmit()">

    <!-- TITLE -->
    <div class="form-group mb-3">
      <label class="form-label">Titre :</label>
      <input type="text" class="form-control" formControlName="title" placeholder="Entrez le titre">

      <div *ngIf="suggestionForm.get('title')?.touched && suggestionForm.get('title')?.invalid">
        <small class="text-danger" *ngIf="suggestionForm.get('title')?.errors?.['required']">
          Le titre est obligatoire.
        </small>
        <small class="text-danger" *ngIf="suggestionForm.get('title')?.errors?.['minlength']">
          Minimum 5 caractères.
        </small>
        <small class="text-danger" *ngIf="suggestionForm.get('title')?.errors?.['pattern']">
          Doit commencer par une majuscule et contenir uniquement des lettres.
        </small>
      </div>
    </div>

    <!-- DESCRIPTION -->
    <div class="form-group mb-3">
      <label class="form-label">Description :</label>
      <textarea class="form-control" formControlName="description" rows="5" placeholder="Entrez la description (minimum 30 caractères)"></textarea>

      <div *ngIf="suggestionForm.get('description')?.touched && suggestionForm.get('description')?.invalid">
        <small class="text-danger" *ngIf="suggestionForm.get('description')?.errors?.['required']">
          La description est obligatoire.
        </small>
        <small class="text-danger" *ngIf="suggestionForm.get('description')?.errors?.['minlength']">
          Minimum 30 caractères.
        </small>
      </div>
    </div>

    <!-- CATEGORY -->
    <div class="form-group mb-3">
      <label class="form-label">Catégorie :</label>
      <select class="form-select" formControlName="category">
        <option value="">-- Sélectionnez une catégorie --</option>
        <option *ngFor="let cat of category" [value]="cat">
          {{cat}}
        </option>
      </select>

      <div *ngIf="suggestionForm.get('category')?.touched && suggestionForm.get('category')?.invalid">
        <small class="text-danger">
          La catégorie est obligatoire.
        </small>
      </div>
    </div>

    <!-- DATE -->
    <div class="form-group mb-3">
      <label class="form-label">Date :</label>
      <input type="date" class="form-control" formControlName="date" readonly>
    </div>

    <!-- STATUS -->
    <div class="form-group mb-4">
      <label class="form-label">Status :</label>
      <input type="text" class="form-control" formControlName="status" readonly>
    </div>

    <!-- SUBMIT & CANCEL -->
    <div class="d-flex gap-2">
      <button type="submit"
              class="btn btn-primary flex-grow-1"
              [disabled]="suggestionForm.invalid">
        <i class="bi bi-check-circle"></i> Soumettre
      </button>
      <button type="button"
              class="btn btn-secondary"
              (click)="onCancel()">
        <i class="bi bi-x-circle"></i> Annuler
      </button>
    </div>

  </form>
</div>